environment: thor-perftestorch
infrastructure:
  web:
    iam:
      managed_policies:
      - hudl-webserver-generic
    preferences:
      ecsCluster: t-marvel-perftest-orch
    requirements:
      cpu_units: 10
      docker_command:
      - -ttl
      - '30'
      - -ttl-refresh
      - '15'
      - -require-label
      - eureka://localhost:8080/eureka/v2
      hard_memory_limit: 256
      log_paths:
      - dateFormat: yyyy/MM/dd hh24:mi:ss
        pathExpression: /var/log/app_registrator/**
        sourceCategory: app_registrator
      soft_memory_limit: 128
      volumes:
      - container_path: /logs
        host_path: /var/log/app_registrator
        name: log
        read_only: false
      - container_path: /rootfs
        host_path: /
        name: root
        read_only: false
      - container_path: /var/run
        host_path: /var/run
        name: var_run
        read_only: false
      - container_path: /sys
        host_path: /sys
        name: sys
        read_only: false
      - container_path: /var/lib/docker/
        host_path: /var/lib/docker/
        name: var_lib_docker
        read_only: false
      - container_path: /tmp/docker.sock
        host_path: /var/run/docker.sock
        name: docker_socket
        read_only: false
      - container_path: /etc/sumo
        host_path: /etc/sumo
        name: etc_sumo
        read_only: false
schema: 1.1.1
service:
  name: registrator
  tribe: foundation

